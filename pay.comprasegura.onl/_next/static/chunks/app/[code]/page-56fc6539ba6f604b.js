(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5938],{57776:function(e,t,a){Promise.resolve().then(a.bind(a,99090))},87414:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},42449:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},95805:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},99090:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var n=a(57437),s=a(2265),r=a(99376),o=a(82416),i=a(31804),l=a(47121),c=a(82351),d=a(35233),u=a(53301),m=a(55272),p=a(66161),h=a(25254),x=a(76634),v=a(62140);function f(e){let{images:t,position:a}=e,s=t.filter(e=>e.position===a).sort((e,t)=>e.order-t.order);return 0===s.length?null:(0,n.jsx)("div",{className:"checkout-banners checkout-banners-".concat(a," space-y-3"),children:s.map(e=>(0,n.jsx)("div",{className:"rounded-lg overflow-hidden shadow-sm",children:e.link?(0,n.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,n.jsx)("img",{src:e.url,alt:e.alt||"Banner promocional",className:"w-full h-auto object-cover"})}):(0,n.jsx)("img",{src:e.url,alt:e.alt||"Banner promocional",className:"w-full h-auto object-cover"})},e.id))})}var g=a(41671),y=a(86595);function j(e){let{reviews:t}=e;if(!t||0===t.length)return null;let a=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("pt-BR",{month:"short",year:"numeric"})}catch(e){return""}};return(0,n.jsxs)("div",{className:"card p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"O que nossos clientes dizem"}),(0,n.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,n.jsx)("div",{className:"border-b border-gray-100 last:border-0 pb-4 last:pb-0",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:e.avatar?(0,n.jsx)("img",{src:e.avatar,alt:e.customerName,className:"w-10 h-10 rounded-full object-cover"}):(0,n.jsx)("div",{className:"w-10 h-10 rounded-full bg-cyan-100 flex items-center justify-center text-cyan-600 font-semibold",children:e.customerName.charAt(0).toUpperCase()})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("span",{className:"font-medium text-gray-900",children:e.customerName}),e.verified&&(0,n.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs text-green-600",children:[(0,n.jsx)(g.Z,{className:"w-3 h-3"}),"Verificado"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1 mb-2",children:[[1,2,3,4,5].map(t=>(0,n.jsx)(y.Z,{className:"w-4 h-4 ".concat(t<=e.rating?"text-yellow-400 fill-yellow-400":"text-gray-200")},t)),e.location&&(0,n.jsx)("span",{className:"text-xs text-gray-400 ml-2",children:e.location})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.comment}),e.date&&(0,n.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:a(e.date)})]})]})},e.id))})]})}var b=a(32489),N=a(87414),w=a(91723),I=a(56334);function k(e){let{enabled:t,discountPercent:a=10,message:r,onApplyDiscount:o}=e,[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),u=(0,s.useCallback)(e=>{e.clientY<=5&&!c&&t&&(l(!0),d(!0))},[c,t]);(0,s.useEffect)(()=>{if(t){if(sessionStorage.getItem("exitIntentShown")){d(!0);return}return document.addEventListener("mouseleave",u),()=>{document.removeEventListener("mouseleave",u)}}},[t,u]);let m=()=>{l(!1),sessionStorage.setItem("exitIntentShown","true")};if(!i)return null;let p="Espera! Antes de ir, que tal ".concat(a,"% de desconto?");return(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-in fade-in duration-200",children:(0,n.jsxs)("div",{className:"relative w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[(0,n.jsx)("button",{onClick:m,className:"absolute top-4 right-4 p-1 text-gray-400 hover:text-gray-600 transition-colors z-10",children:(0,n.jsx)(b.Z,{className:"w-5 h-5"})}),(0,n.jsxs)("div",{className:"bg-gradient-to-r from-cyan-500 to-cyan-600 p-6 text-center",children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:(0,n.jsx)(N.Z,{className:"w-8 h-8 text-white"})}),(0,n.jsxs)("h2",{className:"text-2xl font-bold text-white",children:[a,"% OFF"]}),(0,n.jsx)("p",{className:"text-cyan-100 text-sm mt-1",children:"Desconto exclusivo"})]}),(0,n.jsxs)("div",{className:"p-6 text-center",children:[(0,n.jsx)("p",{className:"text-gray-700 mb-6 text-lg",children:r||p}),(0,n.jsxs)("div",{className:"inline-flex items-center gap-2 bg-amber-50 text-amber-700 px-4 py-2 rounded-full text-sm mb-6",children:[(0,n.jsx)(w.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Oferta por tempo limitado!"})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(I.z,{onClick:()=>{o&&o(a),m()},className:"w-full bg-cyan-500 hover:bg-cyan-600 text-white py-3 text-lg font-semibold",children:"Quero meu desconto!"}),(0,n.jsx)("button",{onClick:m,className:"w-full text-gray-500 hover:text-gray-700 text-sm py-2 transition-colors",children:"Nao, obrigado"})]})]})]})})}var C=a(30053),S=a(54300),P=a(57265),M=a(69182),E=a(14773),T=a(51817);function R(){var e,t,a,g,y,b,N,w,I,R,D,A,B,z,O,L,Z,_,F,q,G,J,U,Y,H,V,K,Q,W,X,$,ee,et,ea,en,es,er,eo,ei,el,ec,ed,eu,em,ep,eh,ex;let ev=(0,r.useParams)(),ef=(0,r.useSearchParams)(),eg=ev.code,ey=ef.get("recovery"),[ej,eb]=(0,s.useState)(!0),[eN,ew]=(0,s.useState)(null),[eI,ek]=(0,s.useState)(null),[eC,eS]=(0,s.useState)(!1),[eP,eM]=(0,s.useState)("personal"),[eE,eT]=(0,s.useState)([]),[eR,eD]=(0,s.useState)(!1),{config:eA}=(0,C.w)(),{trackInitiateCheckout:eB,trackAddPaymentInfo:ez,trackPurchase:eO}=(0,S.K)(eA),eL=(0,s.useRef)(!1),eZ=(0,s.useRef)(!1),e_=(0,s.useRef)(!1),{trackInitiateCheckout:eF,trackAddPaymentInfo:eq}=(0,P.M)((null==eI?void 0:eI.storeId)||null),eG=(0,s.useRef)(!1),eJ=(0,s.useRef)(!1),eU=(0,s.useRef)("checkout_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,10))),{getUTMsForOrder:eY}=(0,M.I)(),{identifyUser:eH}=(0,E.N)();(0,s.useEffect)(()=>{async function e(){try{eb(!0);let e=await fetch("/api/checkout/product/".concat(eg));if(404===e.status){eS(!0);return}let t=await e.json();if(t.error){if("Produto nao encontrado"===t.error||"Loja nao disponivel"===t.error){eS(!0);return}ew(t.error);return}ek(t)}catch(e){ew("Erro ao carregar produto. Tente novamente.")}finally{eb(!1)}}eg&&e()},[eg]),(0,s.useEffect)(()=>{(async function(){if(ey)try{let e=await fetch("/api/recovery/lead?id=".concat(ey)),t=await e.json();t.success&&t.lead&&((t.lead.name||t.lead.email||t.lead.document||t.lead.phone)&&eX({name:t.lead.name||"",email:t.lead.email||"",document:t.lead.document||"",phone:t.lead.phone||""}),t.lead.address&&e0({cep:t.lead.address.cep||"",street:t.lead.address.street||"",number:t.lead.address.number||"",complement:t.lead.address.complement||"",neighborhood:t.lead.address.neighborhood||"",city:t.lead.address.city||"",state:t.lead.address.state||""}))}catch(e){console.error("Error loading recovery data:",e)}})()},[ey]);let eV=eI?[{id:eI.id,productId:eI.id,variantId:eI.variantId,title:eI.title,variantTitle:eI.variantTitle,price:eI.price,quantity:1,image:eI.image,gatewayName:eI.gatewayName}]:[],eK=eV.reduce((e,t)=>e+t.price*t.quantity,0),eQ=eK+0-0,[eW,eX]=(0,s.useState)(null),[e$,e0]=(0,s.useState)(null),[e1,e2]=(0,s.useState)(""),[e4,e5]=(0,s.useState)(""),[e6,e3]=(0,s.useState)(""),[e7,e9]=(0,s.useState)(""),[e8,te]=(0,s.useState)("PENDING"),tt=(0,s.useCallback)(async(e,t,a)=>{if(eI)try{let n={email:(null==t?void 0:t.email)||"",storeId:eI.storeId,checkoutStep:e,cart:{items:eV.map(e=>({productId:e.productId,variantId:e.variantId,title:e.title,variantTitle:e.variantTitle,price:e.price,quantity:e.quantity,image:e.image})),subtotal:eK,shipping:0,discount:0,total:eQ},utms:eY()};t&&(n.name=t.name,n.phone=t.phone,n.document=t.document),a&&(n.address={cep:a.cep,street:a.street,number:a.number,complement:a.complement,neighborhood:a.neighborhood,city:a.city,state:a.state}),n.email&&await fetch("/api/leads/capture",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(e){console.error("Lead capture error:",e)}},[eI,eV,eK,0,0,eQ,eY]);(0,s.useEffect)(()=>{eI&&!eL.current&&(eA&&eB({value:eQ,currency:"BRL",contentIds:[eI.id],contentType:"product",numItems:1}),eL.current=!0)},[eA,eB,eQ,eI]),(0,s.useEffect)(()=>{eI&&!eG.current&&(eF({value:eQ,currency:"BRL",contentIds:[eI.id],contentType:"product",contentName:eI.title,numItems:1}),eG.current=!0)},[eI,eQ,eF]),(0,s.useEffect)(()=>{"payment"===eP&&eI&&(eA&&!e_.current&&(ez({value:eQ,currency:"BRL",contentIds:[eI.id],contentType:"product"}),e_.current=!0),eJ.current||(eq({value:eQ,currency:"BRL",contentIds:[eI.id],contentType:"product",contentName:eI.title,email:null==eW?void 0:eW.email,phone:null==eW?void 0:eW.phone}),eJ.current=!0))},[eP,eA,ez,eq,eQ,eI,eW]);let ta=e=>{eX(e),eT(e=>[...e,"personal"]),eM("shipping"),eH({email:e.email,phone:e.phone,name:e.name}),tt("personal",e)},tn=e=>{e0(e),eT(e=>[...e,"shipping"]),eM("payment"),eW&&tt("shipping",eW,e)},ts=async(e,t,a)=>{if(eW&&e$&&eI){eD(!0),tt("payment",eW,e$);try{let n=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:eW,shippingAddress:e$,paymentMethod:e,installments:t,cardToken:a,items:eV.map(e=>({...e,productId:eI.id,variantId:eI.variantId})),subtotal:eK,shippingCost:0,discount:0,total:eQ,storeId:eI.storeId,idempotencyKey:eU.current,utms:eY()})}),s=await n.json();s.success?(e5(s.orderId),e3(s.statusToken||""),e9(s.purchaseEventId||""),"pix"===e&&s.pixPayload?(e2(s.pixPayload),te("PENDING")):(te("PAID"===s.status?"PAID":"PENDING"),"PAID"===s.status&&!eZ.current&&eA&&(eO({value:eQ,currency:"BRL",orderId:s.orderId,contentIds:[eI.id],contentType:"product",numItems:1,eventId:s.purchaseEventId}),eZ.current=!0)),eT(e=>[...e,"payment"])):alert(s.error||"Erro ao processar pagamento")}catch(e){console.error("Checkout error:",e),alert("Erro ao processar pagamento. Tente novamente.")}finally{eD(!1)}}},tr=(0,s.useCallback)(async()=>{if(e4&&e6)try{let e=await fetch("/api/checkout/status?orderId=".concat(e4,"&token=").concat(e6)),t=await e.json();if("PAID"===t.status){te("PAID");let e=t.purchaseEventId||e7;!eZ.current&&eA&&eI&&(eO({value:eQ,currency:"BRL",orderId:e4,contentIds:[eI.id],contentType:"product",numItems:1,eventId:e}),eZ.current=!0)}}catch(e){console.error("Error checking status:",e)}},[e4,e6,e7,eA,eO,eQ,eI]),to=async e=>{if(eI){eD(!0),eH({email:e.customer.email,phone:e.customer.phone,name:e.customer.name}),tt("payment",{name:e.customer.name,email:e.customer.email,phone:e.customer.phone,document:e.customer.document});try{var t,a;let n=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:e.customer,shippingAddress:{cep:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""},paymentMethod:"credit_card"===e.paymentMethod?"credit_card":"pix",installments:null!==(a=null===(t=e.cardData)||void 0===t?void 0:t.installments)&&void 0!==a?a:1,cardToken:e.cardData?{number:e.cardData.number.replace(/\s/g,""),expMonth:e.cardData.expMonth,expYear:e.cardData.expYear,cvv:e.cardData.cvv,holderName:e.cardData.holderName,document:e.cardData.document}:void 0,items:eV.map(e=>({...e,productId:eI.id,variantId:eI.variantId})),subtotal:eK,shippingCost:0,discount:0,total:eQ,storeId:eI.storeId,idempotencyKey:eU.current,utms:eY(),orderBumps:e.selectedOrderBumps})}),s=await n.json();s.success?(e5(s.orderId),e3(s.statusToken||""),e9(s.purchaseEventId||""),eT(["personal","shipping","payment"]),"pix"===e.paymentMethod&&s.pixPayload?(e2(s.pixPayload),te("PENDING")):(te("PAID"===s.status?"PAID":"PENDING"),"PAID"===s.status&&!eZ.current&&eA&&(eO({value:eQ,currency:"BRL",orderId:s.orderId,contentIds:[eI.id],contentType:"product",numItems:1,eventId:s.purchaseEventId}),eZ.current=!0))):alert(s.error||"Erro ao processar pagamento")}catch(e){console.error("Checkout error:",e),alert("Erro ao processar pagamento. Tente novamente.")}finally{eD(!1)}}};if(eC&&(0,r.notFound)(),ej)return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(T.Z,{className:"w-8 h-8 animate-spin text-cyan-400 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Carregando..."})]})});if(eN||!eI)return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("span",{className:"text-2xl",children:"!"})}),(0,n.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Erro"}),(0,n.jsx)("p",{className:"text-gray-600",children:eN||"Erro ao carregar produto."})]})});let ti=null==eI?void 0:null===(t=eI.checkoutCustomization)||void 0===t?void 0:null===(e=t.appearance)||void 0===e?void 0:e.template,tl=null!==(Q=null==eI?void 0:null===(g=eI.checkoutCustomization)||void 0===g?void 0:null===(a=g.appearance)||void 0===a?void 0:a.primaryColor)&&void 0!==Q?Q:"#06b6d4",tc=null!==(W=null==eI?void 0:null===(b=eI.checkoutCustomization)||void 0===b?void 0:null===(y=b.appearance)||void 0===y?void 0:y.logoPosition)&&void 0!==W?W:"left",td=null===(X=null==eI?void 0:null===(w=eI.checkoutCustomization)||void 0===w?void 0:null===(N=w.appearance)||void 0===N?void 0:N.showProductImages)||void 0===X||X,tu=null!==($=null==eI?void 0:null===(R=eI.checkoutCustomization)||void 0===R?void 0:null===(I=R.appearance)||void 0===I?void 0:I.compactMode)&&void 0!==$&&$,tm=null==eI?void 0:null===(D=eI.checkoutCustomization)||void 0===D?void 0:D.features,tp=null!==(ee=null==tm?void 0:null===(A=tm.countdown)||void 0===A?void 0:A.enabled)&&void 0!==ee&&ee,th=null!==(et=null==tm?void 0:null===(B=tm.countdown)||void 0===B?void 0:B.minutes)&&void 0!==et?et:15,tx=null!==(ea=null==tm?void 0:null===(z=tm.notifications)||void 0===z?void 0:z.enabled)&&void 0!==ea&&ea,tv=null!==(en=null==tm?void 0:null===(O=tm.notifications)||void 0===O?void 0:O.showVisitors)&&void 0!==en&&en,tf=null===(es=null==tm?void 0:null===(L=tm.notifications)||void 0===L?void 0:L.showRecentPurchases)||void 0===es||es,tg=null!==(er=null==tm?void 0:null===(Z=tm.exitIntent)||void 0===Z?void 0:Z.enabled)&&void 0!==er&&er,ty=null!==(eo=null==tm?void 0:null===(_=tm.exitIntent)||void 0===_?void 0:_.discountPercent)&&void 0!==eo?eo:10,tj=null==tm?void 0:null===(F=tm.exitIntent)||void 0===F?void 0:F.message,tb=null===(ei=null==tm?void 0:tm.trustBadges)||void 0===ei||ei,tN=null===(el=null==tm?void 0:tm.progressBar)||void 0===el||el,tw=null!==(ec=null==eI?void 0:null===(q=eI.checkoutCustomization)||void 0===q?void 0:q.paymentMethods)&&void 0!==ec?ec:{pix:!0,creditCard:!0,boleto:!1},tI=null==eI?void 0:null===(G=eI.checkoutCustomization)||void 0===G?void 0:G.customButton,tk=null==eI?void 0:null===(J=eI.checkoutCustomization)||void 0===J?void 0:J.customTexts,tC=null!==(ed=null==eI?void 0:null===(Y=eI.checkoutCustomization)||void 0===Y?void 0:null===(U=Y.banners)||void 0===U?void 0:U.enabled)&&void 0!==ed&&ed,tS=null!==(eu=null==eI?void 0:null===(V=eI.checkoutCustomization)||void 0===V?void 0:null===(H=V.banners)||void 0===H?void 0:H.images)&&void 0!==eu?eu:[],tP=null!==(em=null==eI?void 0:null===(K=eI.checkoutCustomization)||void 0===K?void 0:K.reviews)&&void 0!==em?em:[];return"perfectpay"===ti?e1&&eE.includes("payment")?(0,n.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,n.jsx)(p.Q,{payload:e1,orderId:e4,total:eQ,onCheckStatus:tr,status:e8,thankYouPage:null==eI?void 0:eI.thankYouPage,pixInstructions:null==tk?void 0:tk.pixInstructions,successMessage:null==tk?void 0:tk.successMessage,statusToken:e6})}):(0,n.jsx)(h.u,{productTitle:eI.title,productImage:eI.image,storeName:eI.storeName,storeLogo:eI.storeLogo,cartItems:eV,subtotal:eK,total:eQ,onSubmit:to,loading:eR,storeId:eI.storeId,primaryColor:tl,paymentMethods:{pix:null===(ep=tw.pix)||void 0===ep||ep,creditCard:null===(eh=tw.creditCard)||void 0===eh||eh,boleto:null!==(ex=tw.boleto)&&void 0!==ex&&ex}}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)(o.h,{logoText:eI.storeName,headerTitle:null==tk?void 0:tk.headerTitle,logoPosition:tc}),tp&&(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 pt-4",children:(0,n.jsx)(x.F,{minutes:th,primaryColor:tl})}),(0,n.jsx)(v.i,{enabled:tx,showVisitors:tv,showRecentPurchases:tf}),(0,n.jsx)(k,{enabled:tg,discountPercent:ty,message:tj}),tC&&tS.length>0&&(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 pt-4",children:(0,n.jsx)(f,{images:tS,position:"top"})}),(0,n.jsxs)("main",{className:"max-w-7xl mx-auto px-4 ".concat(tu?"py-3":"py-6"),children:[tN&&(0,n.jsx)(i.v,{currentStep:eP,completedSteps:eE}),(0,n.jsx)("div",{className:"lg:hidden ".concat(tu?"mb-3":"mb-6"),children:(0,n.jsx)(l.H,{items:eV,subtotal:eK,shipping:0,discount:0,total:eQ,collapsible:!0,showProductImages:td})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 ".concat(tu?"gap-3":"gap-6"),children:[(0,n.jsxs)("div",{className:"lg:col-span-2 ".concat(tu?"space-y-3":"space-y-6"),children:[(()=>{if(e1&&eE.includes("payment"))return(0,n.jsx)(p.Q,{payload:e1,orderId:e4,total:eQ,onCheckStatus:tr,status:e8,thankYouPage:null==eI?void 0:eI.thankYouPage,pixInstructions:null==tk?void 0:tk.pixInstructions,successMessage:null==tk?void 0:tk.successMessage,statusToken:e6});switch(eP){case"personal":var e;return(0,n.jsx)(d.d,{initialData:eW||void 0,onSubmit:ta,requiredFields:null==eI?void 0:null===(e=eI.checkoutCustomization)||void 0===e?void 0:e.requiredFields,buttonConfig:tI});case"shipping":return(0,n.jsx)(u.G,{initialData:e$||void 0,onSubmit:tn,onBack:()=>eM("personal"),buttonConfig:tI});case"payment":return(0,n.jsx)(m.c,{total:eQ,onSubmit:ts,onBack:()=>eM("shipping"),loading:eR,storeId:eI.storeId,buttonConfig:tI,paymentMethods:tw});default:return null}})(),"personal"===eP&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"card p-6 opacity-50",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-400",children:"Entrega"}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:"Preencha suas informacoes pessoais para continuar"})]}),(0,n.jsxs)("div",{className:"card p-6 opacity-50",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-400",children:"Opcao de pagamento"}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:"Preencha suas informacoes de entrega para continuar"})]})]}),"shipping"===eP&&(0,n.jsxs)("div",{className:"card p-6 opacity-50",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-400",children:"Opcao de pagamento"}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:"Preencha suas informacoes de entrega para continuar"})]})]}),(0,n.jsxs)("div",{className:"hidden lg:block ".concat(tu?"space-y-3":"space-y-6"),children:[(0,n.jsx)(l.H,{items:eV,subtotal:eK,shipping:0,discount:0,total:eQ,showProductImages:td}),tb&&(0,n.jsx)(c.j,{}),tC&&tS.length>0&&(0,n.jsx)(f,{images:tS,position:"sidebar"}),tP.length>0&&(0,n.jsx)(j,{reviews:tP})]})]}),tb&&(0,n.jsx)("div",{className:"lg:hidden mt-6",children:(0,n.jsx)(c.j,{})}),tP.length>0&&(0,n.jsx)("div",{className:"lg:hidden mt-6",children:(0,n.jsx)(j,{reviews:tP})}),tC&&tS.length>0&&(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsx)(f,{images:tS,position:"bottom"})})]}),(0,n.jsx)("footer",{className:"bg-gray-100 py-6 mt-12",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 text-center text-sm text-gray-500",children:[(0,n.jsx)("p",{children:eI.storeName}),(0,n.jsx)("p",{children:"Checkout seguro"})]})})]})}},76634:function(e,t,a){"use strict";a.d(t,{F:function(){return o}});var n=a(57437),s=a(2265),r=a(91723);function o(e){let{minutes:t,primaryColor:a="#06b6d4"}=e,[o,i]=(0,s.useState)(60*t);(0,s.useEffect)(()=>{if(o<=0)return;let e=setInterval(()=>{i(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[o]);let l=Math.floor(o/60),c=o%60;return o<=0?null:(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 py-3 px-4 rounded-lg text-white font-medium",style:{backgroundColor:a},children:[(0,n.jsx)(r.Z,{className:"w-5 h-5"}),(0,n.jsxs)("span",{children:["Oferta expira em ",String(l).padStart(2,"0"),":",String(c).padStart(2,"0")]})]})}},62140:function(e,t,a){"use strict";a.d(t,{i:function(){return c}});var n=a(57437),s=a(2265),r=a(95805),o=a(42449);let i=["Maria","Ana","Juliana","Fernanda","Patricia","Camila","Amanda","Bruna","Joao","Pedro","Lucas","Gabriel","Matheus","Rafael","Felipe","Bruno","Carlos","Marcos","Ricardo","Rodrigo","Eduardo","Gustavo","Thiago","Andre"],l=["Sao Paulo, SP","Rio de Janeiro, RJ","Belo Horizonte, MG","Curitiba, PR","Porto Alegre, RS","Salvador, BA","Brasilia, DF","Fortaleza, CE","Recife, PE","Goiania, GO","Manaus, AM","Campinas, SP"];function c(e){let{enabled:t=!0,showVisitors:a=!0,showRecentPurchases:c=!0}=e,[d,u]=(0,s.useState)(0),[m,p]=(0,s.useState)(null),[h,x]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(!t||!a)return;u(Math.floor(30*Math.random())+15);let e=setInterval(()=>{u(e=>Math.max(10,Math.min(60,e+(Math.floor(5*Math.random())-2))))},7e3*Math.random()+8e3);return()=>clearInterval(e)},[t,a]),(0,s.useEffect)(()=>{if(!t||!c)return;let e=()=>{let e=i[Math.floor(Math.random()*i.length)],t=l[Math.floor(Math.random()*l.length)];p({name:null!=e?e:"Cliente",city:null!=t?t:"Brasil",time:"".concat(Math.floor(10*Math.random())+1," min atras")}),x(!0),setTimeout(()=>{x(!1)},5e3)},a=setTimeout(e,5e3*Math.random()+5e3),n=setInterval(e,2e4*Math.random()+2e4);return()=>{clearTimeout(a),clearInterval(n)}},[t,c]),t)?(0,n.jsxs)(n.Fragment,{children:[a&&d>0&&(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 rounded-lg px-3 py-2",children:[(0,n.jsx)(r.Z,{className:"w-4 h-4 text-orange-500"}),(0,n.jsxs)("span",{children:[(0,n.jsx)("strong",{className:"text-gray-900",children:d})," pessoas vendo agora"]}),(0,n.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,n.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),(0,n.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})]})]}),c&&(0,n.jsx)("div",{className:"fixed bottom-4 left-4 z-50 max-w-sm bg-white rounded-lg shadow-lg border border-gray-200 p-4 transition-all duration-500 ".concat(h?"translate-x-0 opacity-100":"-translate-x-full opacity-0"),children:m&&(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,n.jsx)(o.Z,{className:"w-5 h-5 text-green-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[m.name," de ",m.city]}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["Comprou ",m.time]})]})]})})]}):null}},57265:function(e,t,a){"use strict";a.d(t,{M:function(){return s}});var n=a(2265);function s(e){let t=(0,n.useRef)(new Set),a=(0,n.useCallback)(()=>new URLSearchParams(window.location.search).get("ttclid")||void 0,[]),s=(0,n.useCallback)(()=>{if("undefined"!=typeof document)try{for(let e of document.cookie.split(";")){let[t,a]=e.trim().split("=");if("_ttp"===t)return a}}catch(e){}},[]),r=(0,n.useCallback)(async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let o="".concat(n,"_").concat(r.eventId||"default");if(!t.current.has(o)){t.current.add(o);try{let t=await fetch("/api/checkout/pixel-event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storeId:e,event:n,data:{...r,ttclid:r.ttclid||a(),ttp:r.ttp||s(),pageUrl:r.pageUrl||window.location.href,pageReferrer:r.pageReferrer||("undefined"!=typeof document?document.referrer:void 0)}})}),o=await t.json();o.success&&o.fired}catch(e){console.error("[ServerPixels] Error firing ".concat(n,":"),e),t.current.delete(o)}}},[e,a,s]),o=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r("PageView",e)},[r]),i=(0,n.useCallback)(e=>r("ViewContent",e),[r]),l=(0,n.useCallback)(e=>r("AddToCart",e),[r]),c=(0,n.useCallback)(e=>r("InitiateCheckout",e),[r]),d=(0,n.useCallback)(e=>r("AddPaymentInfo",e),[r]);return{fireServerEvent:r,trackPageView:o,trackViewContent:i,trackAddToCart:l,trackInitiateCheckout:c,trackAddPaymentInfo:d}}},14773:function(e,t,a){"use strict";a.d(t,{N:function(){return o}});var n=a(2265);async function s(e){let t=new TextEncoder().encode(e.toLowerCase().trim());return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}function r(e){if(!e)return"";let t=e.replace(/\D/g,"");return t.startsWith("55")&&t.length>=12?t:10===t.length||11===t.length?"55".concat(t):t}function o(){let e=(0,n.useRef)(!1);return{identifyUser:(0,n.useCallback)(async t=>{if(!e.current&&window.ttq&&(t.email||t.phone))try{let a={};if(t.email&&(a.email=await s(t.email)),t.phone){let e=r(t.phone);e.length>=10&&(a.phone_number=await s(e))}if(t.email)a.external_id=await s(t.email);else if(t.phone){let e=r(t.phone);e.length>=10&&(a.external_id=await s(e))}window.ttq.identify(a),e.current=!0}catch(e){console.error("[TikTok AM] Error identifying user:",e)}},[]),isReady:!!window.ttq}}}},function(e){e.O(0,[4609,8590,3464,2542,8696,7520,1641,4370,2971,2117,1744],function(){return e(e.s=57776)}),_N_E=e.O()}]);