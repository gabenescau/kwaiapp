"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7520],{66161:function(e,t,n){n.d(t,{Q:function(){return I}});var a=n(57437),s=n(2265),r=n(41671),l=n(68919),c=n(84286),o=n(67404),i=n(85954),d=n(30401),u=n(78867),m=n(33388),x=n(91723),h=n(93448),f=n(35819),g=n(33145),p=n(82023),v=n(62720),b=n(88226),j=n(51817),w=n(32489),y=n(56334),N=n(83464);function C(e){let{orderId:t,statusToken:n,onComplete:r}=e,[l,c]=(0,s.useState)([]),[o,u]=(0,s.useState)(0),[m,x]=(0,s.useState)(!0),[f,C]=(0,s.useState)(!1),[I,k]=(0,s.useState)(0),[_,P]=(0,s.useState)(!1),[S,A]=(0,s.useState)(!1);(0,s.useEffect)(()=>{async function e(){try{var e;x(!0);let a=await N.Z.get("/api/checkout/upsell?orderId=".concat(t,"&token=").concat(n),{withCredentials:!0});if((null===(e=a.data.upsells)||void 0===e?void 0:e.length)>0){c(a.data.upsells);let e=a.data.upsells[0];e.showCountdown&&k(e.countdownSeconds)}}catch(e){console.error("Error fetching upsells:",e)}finally{x(!1)}}t&&n&&e()},[t,n]),(0,s.useEffect)(()=>{if(I<=0||_)return;let e=setInterval(()=>{k(t=>t<=1?(clearInterval(e),T(),0):t-1)},1e3);return()=>clearInterval(e)},[I,_]);let E=l[o],Z=(0,s.useCallback)(async()=>{if(E&&!f)try{C(!0);let e=await N.Z.post("/api/checkout/upsell",{orderId:t,statusToken:n,upsellId:E._id},{withCredentials:!0});e.data.success?(A(!0),setTimeout(()=>{if(o<l.length-1){u(e=>e+1),A(!1);let e=l[o+1];(null==e?void 0:e.showCountdown)&&k(e.countdownSeconds)}else P(!0),null==r||r()},2e3)):alert(e.data.error||"Erro ao processar compra")}catch(e){console.error("Error accepting upsell:",e),alert("Erro ao processar compra. Tente novamente.")}finally{C(!1)}},[E,f,t,n,o,l,r]),T=(0,s.useCallback)(async()=>{if(E){try{await N.Z.put("/api/checkout/upsell",{upsellId:E._id},{withCredentials:!0})}catch(e){console.error("Error recording decline:",e)}if(o<l.length-1){u(e=>e+1);let e=l[o+1];(null==e?void 0:e.showCountdown)&&k(e.countdownSeconds)}else P(!0),null==r||r()}},[E,o,l,r]);if(m||0===l.length||_)return null;if(S)return(0,a.jsxs)("div",{className:"bg-white rounded-lg border-2 border-cyan-400 p-6 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-cyan-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(d.Z,{className:"w-8 h-8 text-cyan-500"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-cyan-500 mb-2",children:"Compra realizada com sucesso!"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[null==E?void 0:E.product.title," foi adicionado ao seu pedido."]})]});let D=E.variant.originalPrice-E.variant.discountedPrice,R=Math.round(D/E.variant.originalPrice*100);return(0,a.jsxs)("div",{className:"bg-white rounded-lg border-2 overflow-hidden",style:{borderColor:E.highlightColor},children:[(0,a.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",style:{backgroundColor:E.highlightColor},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-bold",children:"OFERTA ESPECIAL"})]}),E.showCountdown&&I>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"font-mono font-bold",children:"".concat(Math.floor(I/60),":").concat((I%60).toString().padStart(2,"0"))})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2 text-center",children:E.title}),E.description&&(0,a.jsx)("p",{className:"text-gray-600 text-center mb-4",children:E.description}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-6",children:[E.showImage&&E.product.image&&(0,a.jsx)("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:(0,a.jsx)(g.default,{src:E.product.image,alt:E.product.title,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex-1 text-center sm:text-left",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:E.product.title}),"Default Title"!==E.variant.title&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:E.variant.title}),(0,a.jsxs)("div",{className:"flex items-center justify-center sm:justify-start gap-3 mt-2",children:[E.showComparePrice&&D>0&&(0,a.jsx)("span",{className:"text-gray-400 line-through",children:(0,h.xG)(E.variant.originalPrice)}),(0,a.jsx)("span",{className:"text-2xl font-bold",style:{color:E.highlightColor},children:(0,h.xG)(E.variant.discountedPrice)}),D>0&&(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-bold text-white flex items-center gap-1",style:{backgroundColor:E.highlightColor},children:[(0,a.jsx)(v.Z,{className:"w-3 h-3"}),"-",R,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 flex items-center justify-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Pagamento com cartao ",E.cardInfo.brand," ****",E.cardInfo.lastFourDigits]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(y.z,{onClick:Z,disabled:f,className:(0,h.cn)("w-full py-4 text-lg font-bold text-white",f&&"opacity-70"),style:{backgroundColor:E.highlightColor},children:[f?(0,a.jsx)(j.Z,{className:"w-5 h-5 animate-spin mr-2"}):(0,a.jsx)(d.Z,{className:"w-5 h-5 mr-2"}),f?"Processando...":E.callToAction]}),(0,a.jsxs)("button",{onClick:T,disabled:f,className:"w-full text-center text-sm text-gray-500 hover:text-gray-700 py-2",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 inline mr-1"}),E.declineText]})]})]})]})}function I(e){var t;let{payload:n,orderId:g,total:p,onCheckStatus:v,status:b,thankYouPage:j,pixInstructions:w,successMessage:y,statusToken:N,showUpsell:I=!0}=e,[k,_]=(0,s.useState)(!1),[P,S]=(0,s.useState)(!1),[A,E]=(0,s.useState)(""),[Z,T]=(0,s.useState)(900),[D,R]=(0,s.useState)(null);(0,s.useEffect)(()=>{n&&f.toDataURL(n,{width:300,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"}).then(E)},[n]),(0,s.useEffect)(()=>{if("PENDING"===b){let e=setInterval(v,5e3);return()=>clearInterval(e)}},[b,v]),(0,s.useEffect)(()=>{if("PENDING"===b&&Z>0){let e=setInterval(()=>{T(e=>e-1)},1e3);return()=>clearInterval(e)}},[b,Z]),(0,s.useEffect)(()=>{if("PAID"===b&&(null==j?void 0:j.redirectUrl)){var e;R(null!==(e=j.redirectDelay)&&void 0!==e?e:5);let t=setInterval(()=>{R(e=>null===e||e<=1?(clearInterval(t),window.location.href=j.redirectUrl,0):e-1)},1e3);return()=>clearInterval(t)}},[b,j]);let $=(0,s.useCallback)(async()=>{try{await navigator.clipboard.writeText(n),S(!0),setTimeout(()=>S(!1),3e3)}catch(t){let e=document.createElement("textarea");e.value=n,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),S(!0),setTimeout(()=>S(!1),3e3)}},[n]);if("PAID"===b){let e=(null==j?void 0:j.title)||"Pagamento Confirmado!",n=null==j?void 0:j.subtitle;return(0,a.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-6 sm:p-8 text-center",children:[(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)("div",{className:"w-24 h-24 sm:w-28 sm:h-28 bg-cyan-100 rounded-full flex items-center justify-center mx-auto animate-[bounce_1s_ease-in-out]",children:(0,a.jsx)(r.Z,{className:"w-14 h-14 sm:w-16 sm:h-16 text-cyan-500"})}),(0,a.jsx)("div",{className:"absolute inset-0 w-24 h-24 sm:w-28 sm:h-28 bg-cyan-400 rounded-full mx-auto animate-ping opacity-20"})]}),(0,a.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:e}),(0,a.jsx)("p",{className:"text-gray-600 mb-6 text-sm sm:text-base",children:n||(0,a.jsxs)(a.Fragment,{children:["Seu pedido ",(0,a.jsxs)("span",{className:"font-semibold text-cyan-600",children:["#",g]})," foi processado com sucesso."]})}),(0,a.jsx)("div",{className:"bg-cyan-50 rounded-xl p-4 mb-6",children:(0,a.jsx)("p",{className:"text-cyan-800 text-sm",children:y||"Voc\xea receber\xe1 um e-mail com os detalhes do pedido e instru\xe7\xf5es de acesso."})}),I&&N&&!k&&(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(C,{orderId:g,statusToken:N,onComplete:()=>_(!0)})}),(null==j?void 0:null===(t=j.socialShare)||void 0===t?void 0:t.enabled)&&j.socialShare.platforms&&j.socialShare.platforms.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-3 flex items-center justify-center gap-2",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),"Compartilhe sua compra"]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[j.socialShare.platforms.includes("whatsapp")&&(0,a.jsx)("a",{href:"https://wa.me/?text=".concat(encodeURIComponent(j.socialShare.message||"Acabei de fazer uma compra!")),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-green-500 hover:bg-green-600 rounded-full flex items-center justify-center text-white transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})}),j.socialShare.platforms.includes("facebook")&&(0,a.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?quote=".concat(encodeURIComponent(j.socialShare.message||"Acabei de fazer uma compra!")),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center text-white transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),j.socialShare.platforms.includes("twitter")&&(0,a.jsx)("a",{href:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(j.socialShare.message||"Acabei de fazer uma compra!")),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-black hover:bg-gray-800 rounded-full flex items-center justify-center text-white transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),j.socialShare.platforms.includes("telegram")&&(0,a.jsx)("a",{href:"https://t.me/share/url?text=".concat(encodeURIComponent(j.socialShare.message||"Acabei de fazer uma compra!")),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-sky-500 hover:bg-sky-600 rounded-full flex items-center justify-center text-white transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]})]}),(null==j?void 0:j.redirectUrl)&&null!==D&&(0,a.jsx)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:(0,a.jsxs)("p",{className:"text-blue-800 text-sm",children:["Voc\xea ser\xe1 redirecionado em ",(0,a.jsx)("span",{className:"font-bold",children:D})," segundos..."]})}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-500 text-xs",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Transa\xe7\xe3o segura e verificada"})]})]})})}return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 py-6 px-4 sm:py-10",children:(0,a.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-cyan-100 rounded-full mb-4",children:(0,a.jsx)(o.Z,{className:"w-8 h-8 text-cyan-600"})}),(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Pagamento PIX"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:w||"Escaneie o QR Code ou copie o c\xf3digo para pagar"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 px-4 py-3 flex items-center justify-center gap-2 text-white",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5"}),(0,a.jsxs)("span",{className:"font-semibold",children:["PIX expira em: ",(0,a.jsx)("span",{className:"font-mono",children:"".concat(Math.floor(Z/60).toString().padStart(2,"0"),":").concat((Z%60).toString().padStart(2,"0"))})]})]}),(0,a.jsxs)("div",{className:"p-5 sm:p-6",children:[(0,a.jsx)("div",{className:"flex flex-col items-center mb-6",children:(0,a.jsxs)("div",{className:"relative",children:[A?(0,a.jsx)("div",{className:"p-3 bg-white border-4 border-cyan-500 rounded-2xl shadow-md",children:(0,a.jsx)("img",{src:A,alt:"QR Code PIX",className:"w-48 h-48 sm:w-56 sm:h-56"})}):(0,a.jsx)("div",{className:"w-56 h-56 bg-gray-100 animate-pulse rounded-2xl"}),(0,a.jsx)("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-cyan-500 text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg",children:"Aponte a c\xe2mera"})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 text-center",children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Valor a pagar"}),(0,a.jsx)("p",{className:"text-3xl sm:text-4xl font-bold text-cyan-600",children:(0,h.xG)(p)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)("div",{className:"flex-1 h-px bg-gray-200"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm font-medium",children:"ou copie o c\xf3digo"}),(0,a.jsx)("div",{className:"flex-1 h-px bg-gray-200"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl p-4 pr-24",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1 font-medium",children:"C\xf3digo PIX Copia e Cola"}),(0,a.jsx)("p",{className:"text-sm font-mono text-gray-700 break-all line-clamp-2",children:n})]}),(0,a.jsx)("button",{onClick:$,className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2 px-4 py-2.5 rounded-lg font-semibold text-sm transition-all ".concat(P?"bg-cyan-500 text-white":"bg-cyan-600 hover:bg-cyan-700 text-white shadow-md hover:shadow-lg"),children:P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Copiado!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Copiar"})]})})]})}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[(0,a.jsxs)("h3",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5"}),"Como pagar"]}),(0,a.jsxs)("ol",{className:"space-y-2 text-sm text-blue-800",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-200 text-blue-800 rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),(0,a.jsx)("span",{children:"Abra o app do seu banco"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-200 text-blue-800 rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),(0,a.jsx)("span",{children:"Escolha pagar com PIX QR Code ou Copia e Cola"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-200 text-blue-800 rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),(0,a.jsx)("span",{children:"Escaneie o c\xf3digo ou cole o c\xf3digo copiado"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-200 text-blue-800 rounded-full flex items-center justify-center text-xs font-bold",children:"4"}),(0,a.jsx)("span",{children:"Confirme o pagamento"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 bg-amber-50 border border-amber-200 p-4 rounded-xl",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.Z,{className:"w-6 h-6 text-amber-600"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-amber-500 rounded-full animate-ping"})]}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-semibold text-amber-800 text-sm",children:"Aguardando pagamento"}),(0,a.jsx)("p",{className:"text-amber-600 text-xs",children:"Confirma\xe7\xe3o autom\xe1tica em segundos"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-4 text-gray-400 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Pagamento 100% seguro"})]}),(0,a.jsx)("div",{className:"hidden sm:block w-1 h-1 bg-gray-300 rounded-full"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Confirma\xe7\xe3o instant\xe2nea"})]})]}),(0,a.jsxs)("p",{className:"text-center text-gray-400 text-xs mt-4",children:["Pedido: ",(0,a.jsx)("span",{className:"font-mono",children:g})]})]})})}},56334:function(e,t,n){n.d(t,{z:function(){return i}});var a=n(57437),s=n(2265),r=n(85293),l=n(90535),c=n(93448);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,t)=>{let{className:n,variant:s,size:l,asChild:i=!1,loading:d,disabled:u,children:m,...x}=e,h=i?r.g7:"button";return(0,a.jsx)(h,{className:(0,c.cn)(o({variant:s,size:l,className:n})),ref:t,disabled:d||u,...x,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m]}):m})});i.displayName="Button"},54300:function(e,t,n){n.d(t,{K:function(){return r}});var a=n(2265);let s={tiktok:{PageView:"PageView",ViewContent:"ViewContent",AddToCart:"AddToCart",InitiateCheckout:"InitiateCheckout",AddPaymentInfo:"AddPaymentInfo",Purchase:"CompletePayment"},google:{PageView:"page_view",ViewContent:"view_item",AddToCart:"add_to_cart",InitiateCheckout:"begin_checkout",AddPaymentInfo:"add_payment_info",Purchase:"purchase"},facebook:{PageView:"PageView",ViewContent:"ViewContent",AddToCart:"AddToCart",InitiateCheckout:"InitiateCheckout",AddPaymentInfo:"AddPaymentInfo",Purchase:"Purchase"}};function r(e){var t,n;let r=(0,a.useRef)(0),l=(0,a.useCallback)(()=>(r.current+=1,"evt_".concat(Date.now(),"_").concat(r.current,"_").concat(Math.random().toString(36).slice(2,10))),[]),c=(0,a.useCallback)((t,n,a)=>{var r,l;if(!(null==e?void 0:null===(r=e.tiktok)||void 0===r?void 0:r.pixelId)||!window.ttq)return;let c=s.tiktok[t],o={event_id:a,currency:n.currency||"BRL",value:n.value||0,content_type:n.contentType||"product"};(null===(l=n.contentIds)||void 0===l?void 0:l[0])&&(o.content_id=n.contentIds[0]),n.orderId&&(o.order_id=n.orderId),n.numItems&&(o.quantity=n.numItems),window.ttq.track(c,o)},[null==e?void 0:null===(t=e.tiktok)||void 0===t?void 0:t.pixelId]),o=(0,a.useCallback)((t,n)=>{var a,r;if(!(null==e?void 0:null===(a=e.google)||void 0===a?void 0:a.measurementId)||!window.gtag)return;let l=s.google[t],c={currency:n.currency||"BRL",value:n.value||0};(null===(r=n.contentIds)||void 0===r?void 0:r.length)&&(c.items=n.contentIds.map(e=>({item_id:e,item_name:n.contentName,quantity:1,price:n.value}))),n.orderId&&(c.transaction_id=n.orderId),window.gtag("event",l,c),"Purchase"===t&&e.google.conversionId&&e.google.conversionLabel&&window.gtag("event","conversion",{send_to:"".concat(e.google.conversionId,"/").concat(e.google.conversionLabel),value:n.value||0,currency:n.currency||"BRL",transaction_id:n.orderId||""})},[null==e?void 0:e.google]),i=(0,a.useCallback)((t,n,a)=>{var r,l;if(!(null==e?void 0:null===(r=e.facebook)||void 0===r?void 0:r.pixelId)||!window.fbq)return;let c=s.facebook[t],o={currency:n.currency||"BRL",value:n.value||0};(null===(l=n.contentIds)||void 0===l?void 0:l.length)&&(o.content_ids=n.contentIds,o.content_type=n.contentType||"product",o.content_name=n.contentName,o.num_items=n.numItems||n.contentIds.length),n.orderId&&(o.order_id=n.orderId),window.fbq("track",c,o,{eventID:a})},[null==e?void 0:null===(n=e.facebook)||void 0===n?void 0:n.pixelId]),d=(0,a.useCallback)(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let a=n.eventId||l(),s={...n,eventId:a};c(t,s,a),o(t,s),i(t,s,a)},[e,l,c,o,i]),u=(0,a.useCallback)(()=>d("PageView"),[d]),m=(0,a.useCallback)(e=>d("ViewContent",e),[d]),x=(0,a.useCallback)(e=>d("AddToCart",e),[d]),h=(0,a.useCallback)(e=>d("InitiateCheckout",e),[d]),f=(0,a.useCallback)(e=>d("AddPaymentInfo",e),[d]),g=(0,a.useCallback)(e=>{d("Purchase",e)},[d]);return{trackEvent:d,trackPageView:u,trackViewContent:m,trackAddToCart:x,trackInitiateCheckout:h,trackAddPaymentInfo:f,trackPurchase:g}}},69182:function(e,t,n){n.d(t,{I:function(){return s}});var a=n(34990);function s(){return(0,a.v)()}},30053:function(e,t,n){n.d(t,{PixelProvider:function(){return c},w:function(){return l}});var a=n(57437),s=n(2265);let r=(0,s.createContext)({config:null,loading:!0});function l(){return(0,s.useContext)(r)}function c(e){let{children:t}=e,[n,l]=(0,s.useState)(null),[c,o]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async function(){try{let e=await fetch("/api/store/pixels"),t=await e.json();t.success&&t.pixels&&l(t.pixels)}catch(e){console.error("[Pixels] Error loading config:",e)}finally{o(!1)}})()},[]),(0,a.jsx)(r.Provider,{value:{config:n,loading:c},children:t})}},34990:function(e,t,n){n.d(t,{UTMProvider:function(){return x},v:function(){return m}});var a=n(57437),s=n(2265);let r="checkout_utms";function l(){if("undefined"==typeof document)return null;try{for(let e of document.cookie.split(";")){let[t,n]=e.trim().split("=");if("_ttp"===t)return n}}catch(e){}return null}function c(e){return Object.values(e).some(e=>void 0!==e&&""!==e)}function o(e){if(!c(e))return;let t={utms:e,timestamp:Date.now(),expiry:Date.now()+2592e6};try{localStorage.setItem(r,JSON.stringify(t))}catch(e){}}function i(){try{let e=localStorage.getItem(r);if(!e)return null;let t=JSON.parse(e);if(t.expiry&&Date.now()>t.expiry)return localStorage.removeItem(r),null;return t.utms||null}catch(e){return null}}function d(){let e=i(),t=l();if((!e||!c(e))&&!t)return;let n={};(null==e?void 0:e.utm_source)&&(n.source=e.utm_source),(null==e?void 0:e.utm_medium)&&(n.medium=e.utm_medium),(null==e?void 0:e.utm_campaign)&&(n.campaign=e.utm_campaign),(null==e?void 0:e.utm_term)&&(n.term=e.utm_term),(null==e?void 0:e.utm_content)&&(n.content=e.utm_content),(null==e?void 0:e.gclid)&&(n.gclid=e.gclid),(null==e?void 0:e.fbclid)&&(n.fbclid=e.fbclid),(null==e?void 0:e.ttclid)&&(n.ttclid=e.ttclid),t?n.ttp=t:(null==e?void 0:e.ttp)&&(n.ttp=e.ttp);let a=(null==e?void 0:e.gclid)||(null==e?void 0:e.fbclid)||(null==e?void 0:e.ttclid);return a&&(n.clickId=a),Object.keys(n).length>0?n:void 0}let u=(0,s.createContext)({utms:{},isReady:!1,getUTMsForOrder:d});function m(){return(0,s.useContext)(u)}function x(e){let{children:t}=e,[n,r]=(0,s.useState)({}),[m,x]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{r(function(){let e=function(e){let t=("string"==typeof e?new URL(e,"http://localhost"):e).searchParams,n={};return t.get("utm_source")&&(n.utm_source=t.get("utm_source")),t.get("utm_medium")&&(n.utm_medium=t.get("utm_medium")),t.get("utm_campaign")&&(n.utm_campaign=t.get("utm_campaign")),t.get("utm_term")&&(n.utm_term=t.get("utm_term")),t.get("utm_content")&&(n.utm_content=t.get("utm_content")),t.get("gclid")&&(n.gclid=t.get("gclid")),t.get("fbclid")&&(n.fbclid=t.get("fbclid")),t.get("ttclid")&&(n.ttclid=t.get("ttclid")),t.get("ref")&&(n.ref=t.get("ref")),n}(window.location.href),t=l();if(t&&(e.ttp=t),c(e))return o(e),e;let n=i()||{};return t&&!n.ttp&&(n.ttp=t,o(n)),n}()),x(!0)},[]),(0,a.jsx)(u.Provider,{value:{utms:n,isReady:m,getUTMsForOrder:d},children:t})}},93448:function(e,t,n){n.d(t,{CN:function(){return c},Cz:function(){return l},GI:function(){return h},HY:function(){return o},N:function(){return d},cn:function(){return r},oH:function(){return m},pM:function(){return u},sl:function(){return f},xG:function(){return x},yx:function(){return i}});var a=n(61994),s=n(53335);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,a.W)(t))}function l(e){return e.replace(/\D/g,"").slice(0,11).replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2")}function c(e){let t=e.replace(/\D/g,"").slice(0,11);return t.length<=10?t.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):t.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2")}function o(e){return e.replace(/\D/g,"").slice(0,8).replace(/(\d{5})(\d)/,"$1-$2")}function i(e){return e.replace(/\D/g,"").slice(0,16).replace(/(\d{4})(?=\d)/g,"$1 ")}let d=function(e){let t=e.replace(/\D/g,"").slice(0,4);return t.length>=2?t.slice(0,2)+"/"+t.slice(2):t};function u(e){let t=e.replace(/\D/g,"");if(11!==t.length||/^(\d)\1+$/.test(t))return!1;let n=0;for(let e=0;e<9;e++)n+=parseInt(t.charAt(e))*(10-e);let a=10*n%11;if((10===a||11===a)&&(a=0),a!==parseInt(t.charAt(9)))return!1;n=0;for(let e=0;e<10;e++)n+=parseInt(t.charAt(e))*(11-e);return(10==(a=10*n%11)||11===a)&&(a=0),a===parseInt(t.charAt(10))}function m(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function x(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function h(e,t){return e/t}function f(e,t){return e}}}]);